<UserControl x:Class="TDL.Configurator.App.Pages.DocumentationPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <!-- остальной код без изменений -->

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" Text="Documentation" FontSize="22" FontWeight="SemiBold"/>
        <TextBlock Grid.Row="1"
                   Text="Встроенная справка (Markdown) из папки docs\"
                   Opacity="0.7"
                   Margin="0,6,0,12"/>

        <!-- Toolbar (без WrapPanel — стабильнее на ресайзе) -->
        <Grid Grid.Row="2" Margin="0,0,0,12">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="16"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Button Grid.Column="0" Content="Обновить" Width="120" Margin="0,0,8,0" Click="Refresh_Click"/>
            <Button Grid.Column="1" Content="Открыть папку docs" Width="180" Margin="0,0,8,0" Click="OpenDocsFolder_Click"/>
            <Button Grid.Column="2" Content="Открыть файл" Width="140" Margin="0,0,8,0" Click="OpenSelectedFile_Click"/>
            <Button Grid.Column="3" Content="Копировать Markdown" Width="170" Margin="0,0,8,0" Click="CopyMarkdown_Click"/>

            <TextBlock Grid.Column="5" Text="Поиск:" VerticalAlignment="Center" Opacity="0.7" Margin="0,0,6,0"/>
            <TextBox Grid.Column="6" x:Name="SearchBox" Width="260" Height="28"
                     VerticalContentAlignment="Center"
                     TextChanged="SearchBox_TextChanged"/>

            <TextBlock Grid.Column="7" x:Name="DocsStatusText" Opacity="0.7" VerticalAlignment="Center" Margin="12,0,0,0"/>
        </Grid>

        <!-- Content -->
        <GroupBox Grid.Row="3" Header="Документация">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="300" MinWidth="220"/>
                    <ColumnDefinition Width="6"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Left panel -->
                <Grid Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Text="Документы" FontWeight="SemiBold" Margin="0,0,0,8"/>
                    <ListBox Grid.Row="1"
                             x:Name="DocsList"
                             SelectionChanged="DocsList_SelectionChanged"
                             HorizontalContentAlignment="Stretch"
                             ScrollViewer.VerticalScrollBarVisibility="Auto"/>
                </Grid>

                <!-- Splitter -->
                <GridSplitter Grid.Column="1"
                              Width="6"
                              HorizontalAlignment="Stretch"
                              VerticalAlignment="Stretch"
                              ResizeBehavior="PreviousAndNext"
                              Background="#11000000"/>

                <!-- Right panel -->
                <Border Grid.Column="2"
                        BorderBrush="#22000000"
                        BorderThickness="1"
                        CornerRadius="6"
                        Padding="10">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0"
                                   x:Name="DocTitleText"
                                   FontSize="16"
                                   FontWeight="SemiBold"
                                   Margin="0,0,0,8"/>

                        <FlowDocumentScrollViewer Grid.Row="1"
                                                  x:Name="DocViewer"
                                                  IsToolBarVisible="False"
                                                  VerticalScrollBarVisibility="Auto"
                                                  ScrollViewer.VerticalScrollBarVisibility="Auto"
                                                  ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
                    </Grid>
                </Border>
            </Grid>
        </GroupBox>
    </Grid>
</UserControl>
