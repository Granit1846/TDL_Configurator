<UserControl x:Class="TDL.Configurator.App.Pages.ChaosPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>
        <!-- Единый стиль для numeric textbox: центр по горизонтали и вертикали -->
        <Style x:Key="NumericBoxStyle" TargetType="TextBox">
            <Setter Property="Width" Value="120"/>
            <Setter Property="Height" Value="26"/>
            <Setter Property="TextAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="6,0"/>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel>

            <TextBlock Text="Chaos" FontSize="22" FontWeight="SemiBold"/>
            <TextBlock Text="Настройки секции [Chaos] в TDL_StreamPlugin.ini"
                       Opacity="0.7" Margin="0,6,0,16"/>

            <!-- Верхние кнопки -->
            <WrapPanel Margin="0,0,0,12" VerticalAlignment="Center">
                <Button Content="Сохранить + применить" Width="170" Margin="0,0,8,0" Click="SaveApply_Click"/>
                <Button Content="Сбросить всё" Width="130" Margin="0,0,12,0" Click="DefaultsAll_Click"/>
                <TextBlock x:Name="StatusText" Opacity="0.7" VerticalAlignment="Center"/>
            </WrapPanel>

            <GroupBox Header="Параметры">
                <Grid Margin="10">

                    <!-- 0: Название, 1: поле, 2: кнопка default -->
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="340"/>
                        <ColumnDefinition Width="120"/>
                        <ColumnDefinition Width="40"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- BackfireChance -->
                    <TextBlock Grid.Row="0" Grid.Column="0"
                               Text="Вероятность Backfire (%)"
                               VerticalAlignment="Center"
                               ToolTip="Изменяет вероятность поражения игрока его же магией."/>
                    <TextBox x:Name="BackfireChanceBox"
                             Grid.Row="0" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="0" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="BackfireChance"
                            ToolTip="Сбросить на default (20)"
                            Click="DefaultRow_Click"/>

                    <!-- BackfireDuration -->
                    <TextBlock Grid.Row="1" Grid.Column="0"
                               Text="Длительность Backfire (сек)"
                               VerticalAlignment="Center"
                               ToolTip="Изменяет длительность эффекта Backfire (в секундах)."/>
                    <TextBox x:Name="BackfireDurationBox"
                             Grid.Row="1" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="1" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="BackfireDuration"
                            ToolTip="Сбросить на default (60)"
                            Click="DefaultRow_Click"/>

                    <!-- ShoutPushForce -->
                    <TextBlock Grid.Row="2"
                               Grid.Column="0"
                               Text="Сила отталкивания игрока при крике"
                               VerticalAlignment="Center">
                        <TextBlock.ToolTip>
                            <ToolTip MaxWidth="520">
                                <TextBlock TextWrapping="Wrap">
                                    <Run Text="Изменяет силу отталкивания игрока при Backfire на крике. "/>
                                    <Run Text="ВНИМАНИЕ!" Foreground="Red" FontWeight="Bold"/>
                                    <Run Text=" Установка большого значения может привести к полету через всю карту и попаданию в текстуру."
                                         Foreground="Red"/>
                                </TextBlock>
                            </ToolTip>
                        </TextBlock.ToolTip>
                    </TextBlock>

                    <TextBox x:Name="ShoutPushForceBox"
                             Grid.Row="2"
                             Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>

                    <Button Grid.Row="2"
                            Grid.Column="2"
                            Width="28"
                            Height="26"
                            Content="↺"
                            Tag="ShoutPushForce"
                            ToolTip="Сбросить на default (20)"
                            Click="DefaultRow_Click"/>

                    <!-- ShoutPushDelay -->
                    <TextBlock Grid.Row="3" Grid.Column="0"
                               Text="Задержка перед отталкиванием при крике (сек)"
                               VerticalAlignment="Center"
                               ToolTip="Задержка перед применением отталкивания при Backfire на крике."/>
                    <TextBox x:Name="ShoutPushDelayBox"
                             Grid.Row="3" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="3" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="ShoutPushDelay"
                            ToolTip="Сбросить на default (0.05)"
                            Click="DefaultRow_Click"/>

                    <!-- KnockbackForce -->
                    <TextBlock Grid.Row="4"
                               Grid.Column="0"
                               Text="Сила отталкивания врагов"
                               VerticalAlignment="Center">
                        <TextBlock.ToolTip>
                            <ToolTip MaxWidth="520">
                                <TextBlock TextWrapping="Wrap">
                                    <Run Text="Изменяет силу отталкивания врагов при срабатывании эффекта. "/>
                                    <Run Text="ВНИМАНИЕ!" Foreground="Red" FontWeight="Bold"/>
                                    <Run Text=" Установка большого значения может привести к полету врага через всю карту и попаданию в текстуру."
                                         Foreground="Red"/>
                                </TextBlock>
                            </ToolTip>
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox x:Name="KnockbackForceBox"
                             Grid.Row="4" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="4" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="KnockbackForce"
                            ToolTip="Сбросить на default (25)"
                            Click="DefaultRow_Click"/>

                    <!-- KnockbackCooldown -->
                    <TextBlock Grid.Row="6"
                               Grid.Column="0"
                               Text="Задержка отталкивания магией (сек)"
                               VerticalAlignment="Center">
                        <TextBlock.ToolTip>
                            <ToolTip MaxWidth="520">
                                <TextBlock TextWrapping="Wrap">
                                    <Run Text="Задержка перед отталкиванием при попаданием магией. "/>
                                    <Run Text="ВНИМАНИЕ!" Foreground="Red" FontWeight="Bold"/>
                                    <Run Text=" При установке маленького значения урон противнику не успевает нанестись."
                                         Foreground="Red"/>
                                </TextBlock>
                            </ToolTip>
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox x:Name="KnockbackCooldownBox"
                             Grid.Row="6" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="6" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="KnockbackCooldown"
                            ToolTip="Сбросить на default (0.35)"
                            Click="DefaultRow_Click"/>

                    <!-- KnockbackRadius -->
                    <TextBlock Grid.Row="5" Grid.Column="0"
                               Text="Радиус поиска цели (units)"
                               VerticalAlignment="Center"
                               ToolTip="Максимальная дистанция, в которой ищется цель для отталкивания."/>
                    <TextBox x:Name="KnockbackRadiusBox"
                             Grid.Row="5" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="5" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="KnockbackRadius"
                            ToolTip="Сбросить на default (900)"
                            Click="DefaultRow_Click"/>

                    <!-- KnockbackMeleeDelay -->
                    <TextBlock Grid.Row="7"
                               Grid.Column="0"
                               Text="Задержка отталкивания при мили (сек)"
                               VerticalAlignment="Center">
                        <TextBlock.ToolTip>
                            <ToolTip MaxWidth="520">
                                <TextBlock TextWrapping="Wrap">
                                    <Run Text="Задержка перед отталкиванием при ударе в ближнем бою. "/>
                                    <Run Text="ВНИМАНИЕ!" Foreground="Red" FontWeight="Bold"/>
                                    <Run Text=" При установке маленького значения урон противнику не успевает нанестись."
                                         Foreground="Red"/>
                                </TextBlock>
                            </ToolTip>
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox x:Name="KnockbackMeleeDelayBox"
                             Grid.Row="7" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="7" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="KnockbackMeleeDelay"
                            ToolTip="Сбросить на default (0.10)"
                            Click="DefaultRow_Click"/>

                    <!-- KnockbackBowDelay -->
                    <TextBlock Grid.Row="8"
                               Grid.Column="0"
                               Text="Задержка отталкивания при луке (сек)"
                               VerticalAlignment="Center">
                        <TextBlock.ToolTip>
                            <ToolTip MaxWidth="520">
                                <TextBlock TextWrapping="Wrap">
                                    <Run Text="Задержка перед отталкиванием при выстреле из лука/арбалета. "/>
                                    <Run Text="ВНИМАНИЕ!" Foreground="Red" FontWeight="Bold"/>
                                    <Run Text=" При установке маленького значения урон противнику не успевает нанестись."
                                         Foreground="Red"/>
                                </TextBlock>
                            </ToolTip>
                        </TextBlock.ToolTip>
                    </TextBlock>
                    <TextBox x:Name="KnockbackBowDelayBox"
                             Grid.Row="8" Grid.Column="1"
                             Style="{StaticResource NumericBoxStyle}"/>
                    <Button Grid.Row="8" Grid.Column="2"
                            Width="28" Height="26"
                            Content="↺"
                            Tag="KnockbackBowDelay"
                            ToolTip="Сбросить на default (0.10)"
                            Click="DefaultRow_Click"/>

                </Grid>
            </GroupBox>

        </StackPanel>
    </ScrollViewer>
</UserControl>
