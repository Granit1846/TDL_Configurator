<Window x:Class="TDL.Configurator.App.Windows.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{DynamicResource STR_Settings_Title}"
        Width="860" Height="460"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">

    <Grid Margin="18">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TextBlock Text="{DynamicResource STR_Settings_Title}" FontSize="20" FontWeight="SemiBold"/>
        <TextBlock Grid.Row="1" Margin="0,6,0,0" Opacity="0.7"
                   Text="{DynamicResource STR_Settings_PreviewHint}"/>

        <Border Grid.Row="2" Margin="0,14,0,0" Padding="14" CornerRadius="10"
                BorderBrush="{DynamicResource TDL.Brush.Border}" BorderThickness="1"
                Background="{DynamicResource TDL.Brush.PanelBackground}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Game path -->
                <TextBlock Grid.Row="0" Grid.ColumnSpan="2" FontWeight="SemiBold"
                           Text="{DynamicResource STR_Settings_GamePath_Label}"/>

                <Grid Grid.Row="1" Grid.ColumnSpan="2" Margin="0,8,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <TextBox x:Name="GamePathBox" Height="30" Margin="0,0,10,0"/>
                    <Button Grid.Column="1" Width="130" Height="30" Content="{DynamicResource STR_Settings_Browse}" Click="Browse_Click"/>
                </Grid>

                <TextBlock Grid.Row="2" Grid.ColumnSpan="2" Margin="0,8,0,0" Opacity="0.7"
                           Text="{DynamicResource STR_Settings_GamePath_Hint}"/>
            </Grid>
        </Border>

        <!-- Theme / Language / Updates -->
        <Grid Grid.Row="3" Margin="0,14,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Padding="14" CornerRadius="10"
                    BorderBrush="{DynamicResource TDL.Brush.Border}" BorderThickness="1"
                    Background="{DynamicResource TDL.Brush.PanelBackground}" Margin="0,0,10,0">
                <StackPanel>
                    <TextBlock FontWeight="SemiBold" Text="{DynamicResource STR_Settings_Theme_Label}"/>
                    <ComboBox x:Name="ThemeBox" Height="30" Margin="0,10,0,0" SelectionChanged="ThemeBox_SelectionChanged">
                        <ComboBoxItem Tag="Light" Content="{DynamicResource STR_Settings_Theme_Light}"/>
                        <ComboBoxItem Tag="Dark" Content="{DynamicResource STR_Settings_Theme_Dark}"/>
                        <ComboBoxItem Tag="Nexus" Content="{DynamicResource STR_Settings_Theme_Nexus}"/>
                    </ComboBox>
                </StackPanel>
            </Border>

            <Border Grid.Column="1" Padding="14" CornerRadius="10"
                    BorderBrush="{DynamicResource TDL.Brush.Border}" BorderThickness="1"
                    Background="{DynamicResource TDL.Brush.PanelBackground}" Margin="0,0,10,0">
                <StackPanel>
                    <TextBlock FontWeight="SemiBold" Text="{DynamicResource STR_Settings_Language_Label}"/>
                    <ComboBox x:Name="LanguageBox" Height="30" Margin="0,10,0,0" SelectionChanged="LanguageBox_SelectionChanged">
                        <ComboBoxItem Tag="Ru" Content="{DynamicResource STR_Settings_Language_Ru}"/>
                        <ComboBoxItem Tag="En" Content="{DynamicResource STR_Settings_Language_En}"/>
                    </ComboBox>
                </StackPanel>
            </Border>

            <Border Grid.Column="2" Padding="14" CornerRadius="10"
                    BorderBrush="{DynamicResource TDL.Brush.Border}" BorderThickness="1"
                    Background="{DynamicResource TDL.Brush.PanelBackground}">
                <StackPanel>
                    <TextBlock FontWeight="SemiBold" Text="{DynamicResource STR_Settings_Updates_Label}"/>
                    <Button Height="30" Margin="0,10,0,0" Content="{DynamicResource STR_Settings_CheckUpdates}" Click="CheckUpdates_Click"/>
                    <TextBlock Margin="0,8,0,0" Opacity="0.7"
                               Text="{DynamicResource STR_Settings_UpdatePlaceholder}"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Bottom links + Save/Cancel -->
        <Grid Grid.Row="4" Margin="0,14,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                <Button Style="{StaticResource TDL.IconButtonStyle}" ToolTip="{DynamicResource STR_Link_Nexus}" Click="Nexus_Click" Margin="0,0,8,0">
                    <Path Width="18" Height="18" Stretch="Uniform"
                          Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
                          Data="M9,1 A8,8 0 1 1 1,9 A8,8 0 0 1 9,1 Z M2.2,9 C2.2,12.8 5.2,15.8 9,15.8 C12.8,15.8 15.8,12.8 15.8,9 C15.8,5.2 12.8,2.2 9,2.2 C5.2,2.2 2.2,5.2 2.2,9 Z"/>
                </Button>

                <Button Style="{StaticResource TDL.IconButtonStyle}" ToolTip="{DynamicResource STR_Link_GitHub}" Click="GitHub_Click" Margin="0,0,8,0">
                    <Path Width="18" Height="18" Stretch="Uniform"
                          Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
                          Data="M4,3 H14 V5 H4 Z M4,7 H10 V9 H4 Z M4,11 H14 V13 H4 Z"/>
                </Button>

                <Button Style="{StaticResource TDL.IconButtonStyle}" ToolTip="{DynamicResource STR_Link_Donation}" Click="Donation_Click" Margin="0,0,8,0">
                    <Path Width="18" Height="18" Stretch="Uniform"
                          Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
                          Data="M9,16 C6,13.5 2,10.5 2,6.7 C2,4.4 3.8,2.6 6.1,2.6 C7.4,2.6 8.5,3.2 9,4 C9.5,3.2 10.6,2.6 11.9,2.6 C14.2,2.6 16,4.4 16,6.7 C16,10.5 12,13.5 9,16 Z"/>
                </Button>

                <Button Style="{StaticResource TDL.IconButtonStyle}" ToolTip="{DynamicResource STR_Link_Discord}" Click="Discord_Click">
                    <Path Width="18" Height="18" Stretch="Uniform"
                          Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
                          Data="M2,3 H16 V12 H10 L6,15 V12 H2 Z"/>
                </Button>
            </StackPanel>

            <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Width="120" Margin="0,0,10,0" Style="{StaticResource TDL.AccentButtonStyle}" Content="{DynamicResource STR_Settings_Save}" Click="Save_Click"/>
                <Button Width="120" Content="{DynamicResource STR_Settings_Cancel}" Click="Cancel_Click"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>
